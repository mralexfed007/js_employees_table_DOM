{"version":3,"sources":["scripts/main.js"],"names":["bySort","officeArr","head","document","querySelector","list","table","mySort","arr","index","order","textContent","sort","a","b","first","Number","children","slice","split","join","reverse","localeCompare","createInputArr","args","funcInputArr","i","length","labelName","createElement","toUpperCase","inputName","setAttribute","append","forEach","item","selOff","push","createForm","inputs","newForm","className","input","myButton","notification","type","descriptions","notClass","div","h2","p","addRow","data","tr","count","values","value","td","match","inputArr","addEventListener","e","target","sortedBody","querySelectorAll","findIndex","prepend","form","parentNode","bodyNode","FormData","preventDefault","get","isNaN","reset","setTimeout","remove","classList","closest","add","text","insertAdjacentHTML","ev","key"],"mappings":"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","file":"main.e452576c.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nlet bySort = null;\nconst officeArr = ['Tokyo', 'Singapore', 'London',\n  'New York', 'Edinburgh', 'San Francisco'];\nconst head = document.querySelector('thead').querySelector('tr');\nconst list = document.querySelector('tbody');\nconst table = document.querySelector('table');\n\nconst mySort = (arr, index, order) => {\n  if (order.textContent === 'Salary') {\n    if (bySort !== order.textContent) {\n      arr.sort((a, b) => {\n        const first = Number(a.children[index].textContent\n          .slice(1).split(',').join(''));\n        const second = Number(b.children[index].textContent\n          .slice(1).split(',').join(''));\n\n        return first - second;\n      });\n      bySort = order.textContent;\n    } else {\n      arr.reverse();\n    }\n  } else if (order.textContent === 'Age') {\n    if (bySort !== order.textContent) {\n      arr.sort((a, b) => {\n        return a.children[index].textContent - b.children[index].textContent;\n      });\n      bySort = order.textContent;\n    } else {\n      arr.reverse();\n    }\n  } else {\n    if (bySort !== order.textContent) {\n      arr.sort((a, b) => {\n        return a.children[index].textContent\n          .localeCompare(b.children[index].textContent);\n      });\n      bySort = order.textContent;\n    } else {\n      arr.reverse();\n    }\n  }\n};\n\nconst createInputArr = (...args) => {\n  const funcInputArr = [];\n\n  for (let i = 0; i < args.length; i++) {\n    const labelName = document.createElement('label');\n\n    labelName.textContent = `${args[i][0].toUpperCase() + args[i].slice(1)}: `;\n\n    if (args[i] !== 'office') {\n      const inputName = document.createElement('input');\n\n      inputName.setAttribute('name', args[i]);\n      inputName.setAttribute('type', 'text');\n      inputName.setAttribute('required', true);\n      inputName.setAttribute('data-qa', args[i]);\n      labelName.append(inputName);\n    } else {\n      const inputName = document.createElement('select');\n\n      officeArr.forEach(item => {\n        const selOff = document.createElement('option');\n\n        selOff.textContent = item;\n        inputName.append(selOff);\n      });\n      inputName.setAttribute('name', args[i]);\n      inputName.setAttribute('data-qa', args[i]);\n      labelName.append(inputName);\n    }\n    funcInputArr.push(labelName);\n  }\n\n  return funcInputArr;\n};\n\nconst createForm = (inputs) => {\n  const newForm = document.createElement('form');\n\n  newForm.className = 'new-employee-form';\n\n  for (const input of inputs) {\n    newForm.append(input);\n  }\n\n  const myButton = document.createElement('button');\n\n  myButton.setAttribute('type', 'submit');\n  myButton.textContent = 'Save to table';\n\n  newForm.append(myButton);\n\n  return newForm;\n};\n\nconst notification = (type, descriptions, notClass) => {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  div.className = notClass;\n  p.textContent = descriptions;\n  h2.textContent = type;\n  h2.className = 'title';\n  div.append(h2, p);\n\n  return div;\n};\n\nconst addRow = (data) => {\n  const tr = document.createElement('tr');\n  let count = 0;\n\n  for (const value of data.values()) {\n    const td = document.createElement('td');\n\n    if (count === 4) {\n      td.textContent = `$${value.match(/.{1,3}/g).join(',')}`;\n      tr.append(td);\n    } else {\n      td.textContent = value;\n      tr.append(td);\n    }\n    count++;\n  }\n\n  return tr;\n};\n\nconst inputArr = createInputArr('name', 'position', 'office', 'age', 'salary');\n\ndocument.querySelector('thead').addEventListener('click', (e) => {\n  const item = e.target;\n  const sortedBody = [...list.querySelectorAll('tr')];\n  const index = [...head.querySelectorAll('th')].findIndex(td => {\n    return item.textContent === td.textContent;\n  });\n\n  mySort(sortedBody, index, [...head.querySelectorAll('th')][index]);\n\n  list.prepend(...sortedBody);\n});\n\nconst form = createForm(inputArr);\n\ntable.parentNode.append(form);\n\nconst bodyNode = document.querySelector('body');\n\nform.addEventListener('submit', (e) => {\n  const data = new FormData(form);\n\n  e.preventDefault();\n\n  if (data.get('name').length < 4 || data.get('age') < 18\n  || data.get('age') > 90 || isNaN(data.get('age'))\n  || isNaN(data.get('salary'))) {\n    bodyNode.prepend(notification('Error!', 'Enter valid data, please',\n      'notification error'));\n  } else {\n    bodyNode.prepend(notification('Success!',\n      'Congratulations, new employer has been added!', 'notification success'));\n    list.append(addRow(data));\n    form.reset();\n  }\n\n  setTimeout(() => {\n    bodyNode.children[0].remove();\n  }, 2000);\n});\n\nlist.addEventListener('click', (e) => {\n  if (document.querySelector('.active') !== null) {\n    document.querySelector('.active').classList.remove('active');\n  }\n\n  e.target.closest('tr').classList.add('active');\n});\n\nlist.addEventListener('dblclick', (e) => {\n  const td = e.target;\n  const text = td.textContent;\n\n  td.textContent = null;\n\n  td.insertAdjacentHTML('afterbegin', `\n  <input name=\"name\" type=\"text\" class=\"cell-input\">\n  `);\n\n  td.querySelector('input').addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      td.textContent = (td.querySelector('input').value === '')\n        ? text\n        : td.querySelector('input').value;\n    }\n  });\n\n  td.querySelector('input').addEventListener('blur', (ev) => {\n    td.textContent = td.querySelector('input').value;\n  });\n});\n"]}